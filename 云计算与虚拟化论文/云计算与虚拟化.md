# 云计算与虚拟化

《A Survey of Cloud Resource Management for Complex Engineering Applications》

## 阅读

​	在这门课程上，老师和我们介绍了云计算的概念，也让我对之有了一个清晰的认知。云计算如今成为了IT界的一项热门技术，世界各国的计算机相关研究者和IT企业都在对它进行开发研究，时至今日已普遍运用到各个领域中。云计算通过网络将四面八方的物理服务器连接在一起，再经过虚拟化等一些技术处理过之后，组成一个规模宏大的虚拟资源池。比起说是一种产品不如说云计算是一种计算服务。它可以让用户在不了解细节的前提下得到计算、软件或存储服务，并且享受了比较小的启动和维护成本、定制化的执行环境等等好处。而提及云计算与虚拟化的关系，云计算以虚拟化作为支撑技术，以按照需要的方式向互联网用户提供动态且可扩展的服务。

​	而在这篇文章中提到的复杂工程应用问题，是涉及多门学科的优化处理问题，需要很多学科变量来找到最优或满意的解决方案。其特征如下所述：往往需要大量的计算，会有复杂的内部执行过程，以及不同阶段的多样的软件包和资源需求。

​	鉴于可提供大量计算资源和定制化执行环境的好处，云计算系统成为了解决复杂工程应用的一种选择。但是云计算系统所需要的特质和原先云计算被设计出的有所出入。比如复杂工程应用需要低延迟和高带宽的处理机通信，但云计算系统被设计成运行网络应用，两者是不同的资源需求。所以直接把复杂工程应用运行在云计算系统环境里，并不会得到很高的性能。互相连接的存在和虚拟化结果的效果成为了复杂工程应用问题的瓶颈。

​	因此，在这篇文章里探讨了以下两个问题：一是复杂工程应用运行在云计算系统上的主要调整，二是哪些先前的研究主题可以帮助解决这些挑战。借助这些探讨，可以帮助复杂工程应用在云计算系统上的高性能执行。

​	在文章的第三部分告诉了我们运行在云平台上的复杂工程应用问题有哪些优势。第一是可定制化的执行环境。云计算平台通过虚拟化技术可以提供可行的技巧和有效的解决方案来支持参差的环境。计算环境可以根据云计算系统的具体应用需求来定制。第二是灵活的资源管理。云计算可以提供新的资源管理和使用模式来满足复杂工程应用的灵活且可度量的应用需求。第三是更好的性价比。在文章中提到云计算可能是在使用、维护和升级上花费最有效的方式。

​	接下去文章探讨了在云上运行CEAs的可行性。现有的研究表明运行CEAs在云上是可行的。这些研究从性能和话费两个角度给出了一些学术结论。但是同时也表明了由于云计算不是为了CEAs设计的，所以现有的云计算不是很适合CEAs。

​	如下图所示，在讨论时我们关注三个重要的方面：云的资源提供模式、输入输出虚拟化技术和云资源调度。

<img src="/Users/mac/Downloads/IMG_A8F0D0141105-1.jpeg" alt="IMG_A8F0D0141105-1" style="zoom:50%;" />

​	

​	第一，研究云资源提供模型是为了去满足CEAs的多样资源需求。传统的高性能计算中心资源的供给模型时计算节点池，其资源调度通常是以物理节点为调度单元的。与之相对应的是，云数据中心基于虚拟化技术来组织资源去形成虚拟计算和存储池。在此基础之上文章注意到，混合资源提供模型可以更好地满足CEAs的需要，这其中包括了高性能计算集群和虚拟数据中心。但是直到文章为止，我们都是缺少系统性的云资源提供模型来应用CEAs。

​	第二，当复杂工程应用移植到云上且有密集的输入输出需求时，在云上的输入输出虚拟化技术对性能起着重要的影响作用，其中可以分为网络部分和磁盘存储部分来分别探究。在网络IO虚拟化方面，所取得的成就有在领域驱动模型上的软件提升和硬件的提升。而在磁盘IO虚拟化中，我们主要关注磁盘带宽利用和磁盘IO资源分配两个方面。在此略去具体的叙述。

​	第三，云资源调度通常是首要的研究议题，其策略和算法对应用的性能有着直接影响。在这一部分，文章分为了三个小点和我们探讨：云上的工作流调度、CPU和GPU混合调度以及对性能确保和优化的资源调度。

​	在工作流调度方面，现存的大部分工作流调度算法不能按需提供或释放资源，这些资源只能在工作流执行完成之后才能被释放。为了解决这个问题，文章关注到了在云上灵活地调度工作流算法、基于迭代顺序优化的调度方法、动态基于关键路径适应性调度算法等等，提到了一系列的文献研究。此外，文章还关注到相关问题，就是大量产生的中间数据，我们需要关注如何存储其中一部分未来可能会使用的数据，以及能减少代价的数据存储策略。

​	在CPU和GPU混合调度的讨论中，我们还关注GPU虚拟化和在CAE/CAD上的GPU这两个方面。在混合调度的研究中，Mars和Merge是头两个连接使用CPU和GPU、旨在有效的应用执行的项目。Mars是一个在GPU上的MapReduce框架；而在Merge框架的辅助下，计算到处理器的映射可以被程序静态地决定。在GPU虚拟化方面，近期研究主要集中在如何使虚拟机访存GPU加速器。一个用于虚拟化和管理通用系统资源的系统，称作GViM。GViM需要修改使客户虚拟机运行在虚拟平台上。而CPU在CAE和CAD上的应用已经被现有的研究论述清楚了。

​	在对性能保障的资源调度问题上，一种自主资源管理器被提出。它可以使虚拟服务器的管理自动化，同时把高水平的质量服务需求和资源管理花费纳入考虑。此外令人注意的是，中国科学院的研究者，对于多种任务计算和高吞吐量服务提供者提出了一种动态服务提供模型。基于该模型，实现了一种名为Dawningcloud的云服务来提供自动的管理。

​	基于上述相关文献，文章中提到从云资源管理角度，CEAs运行在云上时主要有三个没有被充分解决的挑战。

​	第一个挑战是怎么样基于CEA的资源需求来建立资源提供模型。如上曾提到过的那样，传统的高性能计算中心的资源提供模型是基于物理节点池，其资源调度算法主要考虑计算节点分配给在任务队列中的任务的时间和方式。然而，现存的云计算中心通常使用虚拟化技术将物理节点分成了很多独立的虚拟机且提供虚拟存储设备。需要建立资源提供模型的第一个原因是CEAs通常需要大量的计算和低延迟通信，但是虚拟机技术明显地提高了通信延迟。第二个原因是现有的资源提供模型主要是集中在近似的同质化节点，但是CEAs需要各式各样的节点。

​	第二个挑战是如何给云环境上的CEA问题设计和优化虚拟化技术。虚拟化技术有利于系统管理和资源利用，但是也不可避免地会引起性能衰减。故而存在高性能需求和由于虚拟化技术引入的性能损失之间的矛盾。我们需要增强虚拟化技术的强度来克服其缺点。尽管有很多优化虚拟化技术的方法被提出，但这些方法会导致虚拟化优点的损失。因此有必要重建和优化虚拟化技术，来达到在云计算上CEA问题的高性能实现。

​	第三个挑战是如何调度资源来提高CEA的性能。在面向CEA的云环境中，使用者有多种CEA服务模型可以选择：IaaS、PaaS、SaaS或者是以上三者的结合。然而研究者通常要面临更加复杂的环境。比如说，如何使虚拟机映射到合适的物理节点，如何管理虚拟机的生命周期等等。总而言之，这些议题都推动着我们去对资源调度模型有一个全面而更新的考虑。

​	综上所述，云计算给复杂工程应用提供了新的发展机会，并提供了更低的花费成本、大量的计算和存储资源以及可定制化的执行环境。这篇文章在深入性研究后，给出了关于最新技术的研究和总结了对CEA有性能影响的挑战。基于这些挑战一系列的研究主题被提了出来。这篇文章成为了我思考在云计算上的复杂工程应用问题的起点，我相信在文中提出的这些挑战，后续有了更多的研究议题和文章。我在拓展部分写下我对其余研究的学习和思考。

## 拓展

​	在阅读论文之后，受其启发，我去知网上找了一些后续的研究来看。

​	首先是文章中提到，我们现在还缺少了系统性的云资源提供模型。而我阅读了一篇题为***《基于云计算环境的资源提供优化方法研究》***的文章。该文章先是比较了基于目标优化的资源提供、基于虚拟机部署的资源提供和基于可靠性的资源提供方法，具体地指出哪些研究是在该领域下的，并且从虚拟化、资源维度、策略目标、优化手段等方面具体地进行了比较。其中给我印象比较深刻的是，基于目标优化的资源提供中有一种策略是**最优云资源提供算法**，该算法分为三个阶段，预定、资源使用和即付即用。在预定阶段，使用K邻近算法来预测用户需求；接着在第二阶段使用预定的资源，如果不能满足则进入第三个阶段。在这个算法中优化目标是使用资源的总费用。

​	接着该文章中提出了四种资源提供模型，分别是：基于能量与SLA均衡的虚拟机资源提供策略、基于多数据中心的绿色高能效资源提供策略、基于遗传算法的虚拟机资源提供负载均衡策略、基于市场经济学模型的资源提供博弈策略。由于时间和知识的局限性，我没有具体去读这些策略的实现方式，也算是给后续学习留下问题吧。

​	在此基础上，我又读了一篇***《面向云数据中心的能耗优化及资源提供方法研究》***，也是和资源提供相关的。在这篇文章中提出的任务调度处理过程模型，是受生物计算的启发而选用的蚁群算法，同时寻找蚁群算法与任务调度处理过程结合的切入点，结合随机Petri网模型，设计了基于蚁群算法的任务调度策略。实验结果表面所设计的策略能够在一定程度上缩短任务完成的总时间并降低处理所有任务的总代价。

​	其次，在资源调度方面，我阅读了题为***《云环境下基于粒子群优化算法的资源调度研究》***的文章，该文章提出了一种在服务等级协议的约束下**基于粒子群优化的资源调度算法**，该调度算法能够均匀地分配虚拟机，提高资源的利用率。文章中提到粒子群算法易陷入局部最优解，可能会导致用粒子群调度算法得出的资源调度方案也出现局部最优，同时会有虚拟机分配不均匀问题。为了解决上述问题，文章将原来的粒子群算法优化变为多种群粒子群算法，改善了粒子群最优解的搜索范围，使得粒子能够跳出局部最优解。

​	我想我看了这些研究文献，**最大的感受是拓展了思维的边界**。也许其中具体部分在我这个阶段不太容易懂，但是其中用的很多策略和方法其实是涉及非常广泛的领域的，比如市场经济学中的博弈论相关、生物计算启发的蚁群算法等等。我们在计算机科学这个领域，也不能局限在此，需要有广泛的视野。不仅需要求深的知识，也需要有广度的了解。